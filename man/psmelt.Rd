% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/psmelt.R
\name{psmelt}
\alias{psmelt}
\title{If you use it for a publication, please cite the creators of speedyseq (citation('speedyseq')).
The psmelt function is a specialized melt function for melting phyloseq
objects (instances of the phyloseq class), usually for producing graphics
with \link[ggplot2:ggplot2-package]{ggplot2::ggplot2}. The naming conventions used in downstream phyloseq
graphics functions have reserved the following variable names that should
not be used as the names of \code{\link[=sample_variables]{sample_variables()}} or taxonomic
\code{\link[=rank_names]{rank_names()}}. These reserved names are \code{c("Sample", "Abundance", "OTU")}.
Also, you should not have identical names for sample variables and taxonomic
ranks. That is, the intersection of the output of the following two
functions \code{\link[=sample_variables]{sample_variables()}}, \code{\link[=rank_names]{rank_names()}} should be an empty vector
(e.g.  \code{intersect(sample_variables(physeq), rank_names(physeq))}). All of
these potential name collisions are checked-for and renamed automatically
with a warning. However, if you (re)name your variables accordingly ahead of
time, it will reduce confusion and eliminate the warnings.}
\usage{
psmelt(physeq, as = getOption("speedyseq.psmelt_class"))
}
\arguments{
\item{physeq}{An \linkS4class{otu_table} or \linkS4class{phyloseq}; most useful for
phyloseq-class.}

\item{as}{Class of the output table; see Details.}
}
\value{
A table of the specified class
}
\description{
The \code{as} argument allows choosing between three classes for tabular data:
}
\details{
\itemize{
\item \linkS4class{data.frame} is chosen by "data.frame" or "df"
\item \linkS4class{data.table} is chosen by "data.table" or "dt"
\item \linkS4class{tbl_df} is chosen by "tbl_df", "tbl", or "tibble"
}

The default is "data.frame" and can be overridden by setting the
"speedyseq.psmelt_class" option.

Note that "melted" phyloseq data is stored much less efficiently, and so RAM
storage issues could arise with a smaller dataset (smaller number of
samples/OTUs/variables) than one might otherwise expect.  For common sizes
of graphics-ready datasets, however, this should not be a problem.  Because
the number of OTU entries has a large effect on the RAM requirement, methods
to reduce the number of separate OTU entries -- for instance by
agglomerating OTUs based on phylogenetic distance using \code{\link[=tip_glom]{tip_glom()}} -- can
help alleviate RAM usage problems. This function is made user-accessible for
flexibility, but is also used extensively by plot functions in phyloseq.
}
\examples{
ps_test_data_df = psmelt(ps_test_data)
}
\seealso{
\code{\link[=plot_bar]{plot_bar()}}
}
